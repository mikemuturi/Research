(()=>{var a={};a.id=869,a.ids=[869],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4554:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/root/opt/Research/frontend/src/components/survey/SurveyForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/root/opt/Research/frontend/src/components/survey/SurveyForm.tsx","default")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:a=>{"use strict";a.exports=require("assert")},13890:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:a=>{"use strict";a.exports=require("os")},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},28731:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(38301),e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(a,b)=>{let c=(0,d.forwardRef)(({color:c="currentColor",size:f=24,strokeWidth:g=2,absoluteStrokeWidth:h,className:i="",children:j,...k},l)=>(0,d.createElement)("svg",{ref:l,...e,width:f,height:f,stroke:c,strokeWidth:h?24*Number(g)/Number(f):g,className:["lucide",`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,i].join(" "),...k},[...b.map(([a,b])=>(0,d.createElement)(a,b)),...Array.isArray(j)?j:[j]]));return c.displayName=`${a}`,c}},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30430:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(21124);c(38301);let e=({label:a,error:b,className:c="",...e})=>(0,d.jsxs)("div",{className:"space-y-1",children:[a&&(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:a}),(0,d.jsx)("input",{className:`
          block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm 
          placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500
          ${b?"border-red-500":""}
          ${c}
        `,...e}),b&&(0,d.jsx)("p",{className:"text-sm text-red-600",children:b})]})},31210:(a,b,c)=>{"use strict";c.d(b,{Wu:()=>g,Zp:()=>e,aR:()=>f});var d=c(21124);c(38301);let e=({children:a,className:b=""})=>(0,d.jsx)("div",{className:`bg-white rounded-lg border border-gray-200 shadow-sm ${b}`,children:a}),f=({children:a,className:b=""})=>(0,d.jsx)("div",{className:`px-6 py-4 border-b border-gray-200 ${b}`,children:a}),g=({children:a,className:b=""})=>(0,d.jsx)("div",{className:`px-6 py-4 ${b}`,children:a})},32042:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},33873:a=>{"use strict";a.exports=require("path")},37006:(a,b,c)=>{Promise.resolve().then(c.bind(c,78068))},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},42378:(a,b,c)=>{"use strict";var d=c(91330);c.o(d,"useRouter")&&c.d(b,{useRouter:function(){return d.useRouter}}),c.o(d,"useSearchParams")&&c.d(b,{useSearchParams:function(){return d.useSearchParams}})},45478:(a,b,c)=>{"use strict";c.d(b,{IR:()=>i,R2:()=>g,rP:()=>h});var d=c(12989);let e=process.env.NEXT_PUBLIC_API_BASE_URL||"https://rafsia.org/api",f=d.A.create({baseURL:e,headers:{"Content-Type":"application/json"}});f.interceptors.request.use(a=>a),f.interceptors.response.use(a=>a,async a=>{a?.response?.status;return a.config,Promise.reject(a)});let g={login:(a,b)=>f.post("/auth/token/",{username:a,password:b}),register:(a,b,c)=>f.post("/auth/register/",{username:a,email:b,password:c}),refresh:a=>f.post("/auth/token/refresh/",{refresh:a})},h={getQuestions:(a,b)=>f.get("/surveys/questions/",{params:{role:a,dimension:b}}),submitSurvey:a=>f.post("/surveys/submissions/",a),getSubmission:(a,b)=>f.get(`/surveys/submissions/${a}/`,{params:b?{public:"true"}:{}}),getSubmissions:(a,b,c)=>f.get("/surveys/submissions/",{params:a}),getStatistics:()=>f.get("/surveys/submissions/statistics/"),exportCSV:a=>f.get("/surveys/submissions/export_csv/",{params:a}),exportPDF:a=>f.get(`/surveys/submissions/${a}/export_pdf/`),getInstitutions:()=>f.get("/surveys/institutions/"),getProjects:()=>f.get("/surveys/projects/")},i={getNotes:a=>f.get("/interviews/notes/",{params:a}),createNote:a=>f.post("/interviews/notes/",a),updateNote:(a,b)=>f.put(`/interviews/notes/${a}/`,b),deleteNote:a=>f.delete(`/interviews/notes/${a}/`),getAnalytics:()=>f.get("/interviews/notes/analytics/")}},47065:()=>{},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f,metadata:()=>e});var d=c(75338);c(61135);let e={title:"RAFSIA Readiness Assessment",description:"Satellite Internet Adoption Readiness Assessment Framework"};function f({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{children:a})})}},53016:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f});var d=c(75338),e=c(4554);function f(){return(0,d.jsx)(e.default,{})}},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},61135:()=>{},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66088:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(21124);c(38301);let e=({label:a,error:b,options:c,className:e="",...f})=>(0,d.jsxs)("div",{className:"space-y-1",children:[a&&(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:a}),(0,d.jsx)("select",{className:`
          block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm 
          focus:outline-none focus:ring-blue-500 focus:border-blue-500
          ${b?"border-red-500":""}
          ${e}
        `,...f,children:c.map(a=>(0,d.jsx)("option",{value:a.value,children:a.label},a.value))}),b&&(0,d.jsx)("p",{className:"text-sm text-red-600",children:b})]})},74075:a=>{"use strict";a.exports=require("zlib")},76326:(a,b,c)=>{Promise.resolve().then(c.bind(c,4554))},78068:(a,b,c)=>{"use strict";c.d(b,{default:()=>r});var d=c(21124),e=c(38301),f=c(42378),g=c(28731);let h=(0,g.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),i=(0,g.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),j=(0,g.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var k=c(45478),l=c(94260),m=c(30430),n=c(66088),o=c(31210);let p=[{key:"technical",label:"Technical Readiness"},{key:"economic",label:"Economic Readiness"},{key:"socio_cultural",label:"Socio-Cultural Readiness"},{key:"environmental",label:"Environmental Readiness"},{key:"policy_regulatory",label:"Policy & Regulatory Readiness"}],q=[{value:"",label:"Select your role..."},{value:"lecturer",label:"Lecturer"},{value:"it_support",label:"IT Support"},{value:"admin",label:"Administrator"},{value:"principal",label:"Principal"},{value:"student",label:"Student"},{value:"service_provider",label:"Service Provider"}],r=()=>{let a=(0,f.useRouter)(),[b,c]=(0,e.useState)(0),[g,r]=(0,e.useState)([]),[s,t]=(0,e.useState)([]),[u,v]=(0,e.useState)([]),[w,x]=(0,e.useState)(!1),[y,z]=(0,e.useState)({name:"",email:"",phone:"",role:"",institution:"",institution_name:"",county:"",project:"",consent_given:!1,is_anonymous:!1,answers:{}}),[A,B]=(0,e.useState)({});(0,e.useEffect)(()=>{C()},[]),(0,e.useEffect)(()=>{y.role&&D()},[y.role]);let C=async()=>{try{let[a,b]=await Promise.all([k.rP.getInstitutions(),k.rP.getProjects()]);t(a.data),v(b.data)}catch(a){console.error("Error loading initial data:",a)}},D=async()=>{try{x(!0);let a=["lecturer","it_support","admin","principal","student"].includes(y.role)?"ihl":"isp",b=await k.rP.getQuestions(a);r(b.data);let c={};b.data.forEach(a=>{c[a.id]=3}),z(a=>({...a,answers:c})),console.log(`Loaded ${b.data.length} questions for role: ${a}`)}catch(a){console.error("Error loading questions:",a),alert("Error loading questions. Please refresh the page and try again.")}finally{x(!1)}},E=(a,b)=>{z(c=>({...c,[a]:b})),A[a]&&B(b=>({...b,[a]:""}))},F=a=>{let b={};return 0===a&&(y.role||(b.role="Role is required"),y.county||(b.county="County is required"),y.consent_given||(b.consent_given="Consent is required to proceed"),"service_provider"===y.role||y.is_anonymous||y.name||(b.name="Name is required")),B(b),0===Object.keys(b).length},G=async()=>{if(F(b)){x(!0);try{let b={...y,institution:y.institution?Number(y.institution):null,project:y.project?Number(y.project):null,answers:Object.entries(y.answers).map(([a,b])=>({question:Number(a),value:Number(b)}))},c=await k.rP.submitSurvey(b);a.push(`/results/${c.data.id}`)}catch(a){console.error("Error submitting survey:",a),alert("Error submitting survey. Please try again.")}finally{x(!1)}}},H=()=>b/p.length*100;return(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,d.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"RAFSIA Readiness Assessment"}),(0,d.jsx)("p",{className:"text-gray-600 mt-2",children:"Satellite Internet Adoption Readiness Survey"})]}),(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsxs)("span",{className:"text-sm text-gray-600",children:["Step ",b+1," of ",p.length+1]}),(0,d.jsxs)("span",{className:"text-sm text-gray-600",children:[Math.round(H()),"% Complete"]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,d.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${H()}%`}})})]}),(()=>{if(0===b)return(0,d.jsxs)(o.Zp,{children:[(0,d.jsxs)(o.aR,{children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Respondent Information"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"Please provide your basic information to begin the assessment."})]}),(0,d.jsxs)(o.Wu,{className:"space-y-6",children:[(0,d.jsx)(n.A,{label:"Role *",value:y.role,onChange:a=>E("role",a.target.value),options:q,error:A.role}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{type:"checkbox",id:"anonymous",checked:y.is_anonymous,onChange:a=>E("is_anonymous",a.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,d.jsx)("label",{htmlFor:"anonymous",className:"text-sm text-gray-700",children:"Submit anonymously (hide personal information)"})]}),!y.is_anonymous&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.A,{label:"Full Name *",type:"text",value:y.name,onChange:a=>E("name",a.target.value),error:A.name}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsx)(m.A,{label:"Email Address",type:"email",value:y.email,onChange:a=>E("email",a.target.value)}),(0,d.jsx)(m.A,{label:"Phone Number",type:"tel",value:y.phone,onChange:a=>E("phone",a.target.value)})]})]}),"service_provider"!==y.role&&(0,d.jsxs)(d.Fragment,{children:[s.length>0&&(0,d.jsx)(n.A,{label:"Institution (if listed)",value:y.institution,onChange:a=>E("institution",a.target.value),options:[{value:"",label:"Select institution..."},...s.map(a=>({value:a.id.toString(),label:a.name}))]}),(0,d.jsx)(m.A,{label:"Institution Name (if not listed above)",type:"text",value:y.institution_name,onChange:a=>E("institution_name",a.target.value)})]}),(0,d.jsx)(m.A,{label:"County *",type:"text",value:y.county,onChange:a=>E("county",a.target.value),error:A.county}),u.length>0&&(0,d.jsx)(n.A,{label:"Project/Study",value:y.project,onChange:a=>E("project",a.target.value),options:[{value:"",label:"Select project..."},...u.map(a=>({value:a.id.toString(),label:a.name}))]}),(0,d.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,d.jsx)("input",{type:"checkbox",id:"consent",checked:y.consent_given,onChange:a=>E("consent_given",a.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"consent",className:"text-sm text-gray-700",children:(0,d.jsx)("strong",{children:"Informed Consent *"})}),(0,d.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"I understand that my responses will be used for research purposes to assess readiness for satellite internet adoption. My data will be handled securely and in compliance with applicable data protection regulations. I can withdraw my consent at any time by contacting the research team."})]})]}),A.consent_given&&(0,d.jsx)("p",{className:"text-sm text-red-600 mt-2",children:A.consent_given})]})]})]});let a=p[b-1],c=(()=>{if(0===b)return[];let a=p[b-1];return g.filter(b=>b.dimension===a.key)})();return w?(0,d.jsx)(o.Zp,{children:(0,d.jsx)(o.Wu,{className:"flex items-center justify-center py-12",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,d.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading questions..."})]})})}):0===c.length?(0,d.jsxs)(o.Zp,{children:[(0,d.jsx)(o.aR,{children:(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:a.label})}),(0,d.jsxs)(o.Wu,{className:"text-center py-8",children:[(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"No questions available for this dimension."}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Please ensure you have selected a role and that questions are loaded in the database."})]})]}):(0,d.jsxs)(o.Zp,{children:[(0,d.jsxs)(o.aR,{children:[(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:a.label}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Please rate your agreement with the following statements on a scale of 1 to 5. (",c.length," questions)"]})]}),(0,d.jsx)(o.Wu,{className:"space-y-8",children:c.map(a=>(0,d.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,d.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:a.text}),((a,b)=>(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("div",{className:"flex justify-between items-center",children:["Strongly Disagree","Disagree","Neutral","Agree","Strongly Agree"].map((a,b)=>(0,d.jsx)("span",{className:"text-xs text-gray-500 text-center flex-1",children:a},b))}),(0,d.jsx)("div",{className:"flex justify-between items-center",children:[1,2,3,4,5].map(c=>(0,d.jsxs)("label",{className:"flex flex-col items-center space-y-1 cursor-pointer flex-1",children:[(0,d.jsx)("input",{type:"radio",name:`question-${a}`,value:c,checked:b===c,onChange:()=>{z(b=>({...b,answers:{...b.answers,[a]:c}}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:c})]},c))})]}))(a.id,y.answers[a.id]||3)]},a.id))})]})})(),(0,d.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,d.jsxs)(l.A,{variant:"outline",onClick:()=>{c(a=>Math.max(a-1,0))},disabled:0===b,className:"flex items-center space-x-2",children:[(0,d.jsx)(h,{size:16}),(0,d.jsx)("span",{children:"Previous"})]}),b===p.length?(0,d.jsx)(l.A,{onClick:G,disabled:w,className:"flex items-center space-x-2",children:w?(0,d.jsx)("span",{children:"Submitting..."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i,{size:16}),(0,d.jsx)("span",{children:"Submit Survey"})]})}):(0,d.jsxs)(l.A,{onClick:()=>{F(b)&&c(a=>Math.min(a+1,p.length))},className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{children:"Next"}),(0,d.jsx)(j,{size:16})]})]})]})})}},79551:a=>{"use strict";a.exports=require("url")},81002:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["survey",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,53016)),"/root/opt/Research/frontend/src/app/survey/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,51472)),"/root/opt/Research/frontend/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,I=["/root/opt/Research/frontend/src/app/survey/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/survey/page",pathname:"/survey",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/survey/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw aF||b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},81630:a=>{"use strict";a.exports=require("http")},83513:()=>{},83997:a=>{"use strict";a.exports=require("tty")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},94260:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(21124);c(38301);let e=({variant:a="primary",size:b="md",className:c="",children:e,...f})=>(0,d.jsx)("button",{className:`inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500"}[a]} ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[b]} ${c}`,...f,children:e})},94735:a=>{"use strict";a.exports=require("events")}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[778,989],()=>b(b.s=81002));module.exports=c})();