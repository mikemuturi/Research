"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{3008:(e,s,r)=>{r.d(s,{default:()=>y});var a=r(95155),t=r(12115),l=r(52619),i=r.n(l),n=r(50069),o=r(39068),c=r(59865),d=r(96583),m=r(15870),x=r(84926),h=r(65229),g=r(9540),p=r(20063),u=r(37818);let y=()=>{var e,s,r,l,y,f,j,N;let b=(0,p.useRouter)(),{user:v,logout:w,loading:C}=(0,u.A)(),[k,A]=(0,t.useState)(!1),[L,U]=(0,t.useState)(!1),R=(0,t.useRef)(null);(0,t.useEffect)(()=>{function e(e){R.current&&!R.current.contains(e.target)&&U(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let S=()=>A(!1),I=async()=>{try{await w(),U(!1),b.push("/")}catch(e){console.error("Logout error:",e)}};return(0,a.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-4 md:py-5",children:[(0,a.jsxs)(i(),{href:"/",className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{className:"h-7 w-7 md:h-8 md:w-8 text-blue-600"}),(0,a.jsxs)("div",{className:"leading-none",children:[(0,a.jsx)("div",{className:"text-xl md:text-2xl font-bold tracking-tight text-gray-900",children:"RAFSIA"}),(0,a.jsx)("div",{className:"text-[11px] md:text-xs text-gray-500 -mt-0.5",children:"Assessment Tool"})]})]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-8",children:[(0,a.jsxs)("nav",{className:"flex items-center gap-6",children:[(0,a.jsx)(i(),{href:"/",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Home"}),(0,a.jsx)(i(),{href:"/about",className:"text-gray-600 hover:text-gray-900 font-medium",children:"About"}),(0,a.jsx)(i(),{href:"/contact",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Contact"}),(0,a.jsx)(i(),{href:"/privacy",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Privacy"})]}),(0,a.jsxs)("div",{className:"relative",ref:R,children:[(0,a.jsx)("button",{onClick:()=>U(e=>!e),className:"p-2 rounded-full hover:bg-gray-100 transition-colors flex items-center","aria-label":"Open profile menu",children:(0,a.jsx)(()=>C?(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-300 animate-pulse"}):(null==v?void 0:v.photoURL)?(0,a.jsx)("img",{src:v.photoURL,alt:v.displayName||"Profile",className:"h-8 w-8 rounded-full object-cover border-2 border-gray-200 hover:border-gray-300 transition-colors"}):(0,a.jsx)(n.A,{className:"h-7 w-7 text-gray-700"}),{})}),L&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-64 rounded-xl border border-gray-200 bg-white shadow-lg overflow-hidden",children:[v&&(0,a.jsx)("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:v.photoURL?(0,a.jsx)("img",{src:v.photoURL,alt:v.displayName||"Profile",className:"h-10 w-10 rounded-full object-cover"}):(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-semibold text-sm",children:(null==(s=v.displayName)||null==(e=s[0])?void 0:e.toUpperCase())||(null==(l=v.email)||null==(r=l[0])?void 0:r.toUpperCase())||"U"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:v.displayName||"User"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 truncate",children:v.email})]})]})}),!v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{href:"/admin/login",onClick:()=>U(!1),className:"flex items-center gap-2 px-4 py-3 hover:bg-gray-50 text-gray-700",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"})," Login"]}),(0,a.jsxs)(i(),{href:"/register",onClick:()=>U(!1),className:"flex items-center gap-2 px-4 py-3 hover:bg-gray-50 text-gray-700",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"})," Register"]}),(0,a.jsxs)(i(),{href:"/settings",onClick:()=>U(!1),className:"flex items-center gap-2 px-4 py-3 hover:bg-gray-50 text-gray-700",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"})," Settings"]})]}),v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{href:"/admin",onClick:()=>U(!1),className:"flex items-center gap-2 px-4 py-3 hover:bg-gray-50 text-gray-700",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"})," Dashboard"]}),(0,a.jsxs)(i(),{href:"/settings",onClick:()=>U(!1),className:"flex items-center gap-2 px-4 py-3 hover:bg-gray-50 text-gray-700",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"})," Settings"]}),(0,a.jsx)("div",{className:"border-t border-gray-100",children:(0,a.jsxs)("button",{onClick:I,className:"w-full text-left flex items-center gap-2 px-4 py-3 hover:bg-gray-50 text-red-600",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"})," Logout"]})})]})]})]})]}),(0,a.jsx)("button",{onClick:()=>A(e=>!e),className:"md:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors","aria-label":"Toggle menu",children:k?(0,a.jsx)(h.A,{size:24}):(0,a.jsx)(g.A,{size:24})})]}),k&&(0,a.jsx)("div",{className:"md:hidden border-t border-gray-200 py-4",children:(0,a.jsxs)("nav",{className:"flex flex-col space-y-2",children:[(0,a.jsx)(i(),{href:"/",className:"px-4 py-2 rounded-md text-gray-700 hover:bg-gray-50",onClick:S,children:"Home"}),(0,a.jsx)(i(),{href:"/about",className:"px-4 py-2 rounded-md text-gray-700 hover:bg-gray-50",onClick:S,children:"About"}),(0,a.jsx)(i(),{href:"/contact",className:"px-4 py-2 rounded-md text-gray-700 hover:bg-gray-50",onClick:S,children:"Contact"}),(0,a.jsx)(i(),{href:"/privacy",className:"px-4 py-2 rounded-md text-gray-700 hover:bg-gray-50",onClick:S,children:"Privacy"}),(0,a.jsxs)("div",{className:"mt-2 border-t border-gray-100 pt-2",children:[v&&(0,a.jsx)("div",{className:"px-4 py-3 bg-gray-50 rounded-md mb-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[v.photoURL?(0,a.jsx)("img",{src:v.photoURL,alt:v.displayName||"Profile",className:"h-8 w-8 rounded-full object-cover"}):(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-semibold text-xs",children:(null==(f=v.displayName)||null==(y=f[0])?void 0:y.toUpperCase())||(null==(N=v.email)||null==(j=N[0])?void 0:j.toUpperCase())||"U"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:v.displayName||"User"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:v.email})]})]})}),!v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{href:"/admin/login",className:"px-4 py-2 rounded-md text-gray-700 hover:bg-gray-50",onClick:S,children:"Login"}),(0,a.jsx)(i(),{href:"/register",className:"px-4 py-2 rounded-md text-gray-700 hover:bg-gray-50",onClick:S,children:"Register"})]}),(0,a.jsx)(i(),{href:"/settings",className:"px-4 py-2 rounded-md text-gray-700 hover:bg-gray-50",onClick:S,children:"Settings"}),v&&(0,a.jsx)("button",{onClick:()=>{I(),S()},className:"w-full text-left px-4 py-2 rounded-md text-red-600 hover:bg-gray-50",children:"Logout"})]})]})})]})})}},37818:(e,s,r)=>{r.d(s,{A:()=>o});var a=r(12115),t=r(12553);let l=(0,r(52078).Wp)({apiKey:"AIzaSyCGFydi37Ql6QT4ajVELgn64O-xFzEpfx4",authDomain:"auth-47ad1.firebaseapp.com",projectId:"auth-47ad1",storageBucket:"auth-47ad1.appspot.com",messagingSenderId:"907900774236",appId:"1:907900774236:web:your-web-app-id"}),i=(0,t.xI)(l),n=new t.HF;n.setCustomParameters({prompt:"select_account"});let o=()=>{let[e,s]=(0,a.useState)(null),[r,l]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,t.hg)(i,e=>{e?s({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified}):s(null),l(!1)});return()=>e()},[]),{user:e,loading:r,signInWithGoogle:async()=>{try{return(await (0,t.df)(i,n)).user}catch(e){throw console.error("Google sign in error:",e),e}},signInWithEmail:async(e,s)=>{try{return(await (0,t.x9)(i,e,s)).user}catch(e){throw console.error("Email sign in error:",e),e}},logout:async()=>{try{await (0,t.CI)(i),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}catch(e){throw console.error("Logout error:",e),e}},isAuthenticated:!!e}}}}]);