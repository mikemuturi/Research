(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{5590:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(95155);t(12115);let a=e=>{let{label:s,error:t,className:a="",...l}=e;return(0,r.jsxs)("div",{className:"space-y-1",children:[s&&(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:s}),(0,r.jsx)("input",{className:"\n          block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm \n          placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\n          ".concat(t?"border-red-500":"","\n          ").concat(a,"\n        "),...l}),t&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:t})]})}},20508:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(45105).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},28687:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var r=t(95155);t(12115);var a=t(39068),l=t(52619),i=t.n(l);let n=()=>(0,r.jsx)("footer",{className:"bg-gray-900 text-white py-8 md:py-12",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:[(0,r.jsxs)("div",{className:"text-center md:text-left",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center md:justify-start mb-3 md:mb-4",children:[(0,r.jsx)(a.A,{className:"h-5 w-5 md:h-6 md:w-6 text-blue-400 mr-2"}),(0,r.jsx)("span",{className:"text-base md:text-lg font-semibold",children:"RAFSIA Assessment"})]}),(0,r.jsx)("p",{className:"text-sm md:text-base text-gray-400 max-w-md mx-auto md:mx-0",children:"A comprehensive framework for evaluating readiness for satellite internet adoption in institutions and service providers."})]}),(0,r.jsxs)("div",{className:"text-center md:text-left",children:[(0,r.jsx)("h4",{className:"text-base md:text-lg font-semibold mb-3 md:mb-4",children:"Quick Links"}),(0,r.jsxs)("ul",{className:"space-y-2 text-sm md:text-base text-gray-400",children:[(0,r.jsx)("li",{children:(0,r.jsx)(i(),{href:"/survey",className:"hover:text-white transition-colors inline-block py-1",children:"Take Assessment"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i(),{href:"/privacy",className:"hover:text-white transition-colors inline-block py-1",children:"Privacy Policy"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i(),{href:"/admin/login",className:"hover:text-white transition-colors inline-block py-1",children:"Admin Portal"})})]})]}),(0,r.jsxs)("div",{className:"text-center md:text-left",children:[(0,r.jsx)("h4",{className:"text-base md:text-lg font-semibold mb-3 md:mb-4",children:"Contact"}),(0,r.jsx)("p",{className:"text-sm md:text-base text-gray-400 max-w-sm mx-auto md:mx-0",children:"For questions about this assessment tool or research inquiries, please contact the research team."})]})]}),(0,r.jsx)("div",{className:"border-t border-gray-800 mt-6 md:mt-8 pt-6 md:pt-8 text-center",children:(0,r.jsx)("p",{className:"text-gray-400 text-xs md:text-sm px-4",children:"\xa9 2025 RAFSIA Assessment Tool. All rights reserved.Made With Love by Mike."})})]})})},31166:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(95155);t(12115);let a=e=>{let{variant:s="primary",size:t="md",className:a="",children:l,...i}=e;return(0,r.jsx)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500"}[s]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[t]," ").concat(a),...i,children:l})}},41388:(e,s,t)=>{Promise.resolve().then(t.bind(t,56505))},47972:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>i,Zp:()=>a,aR:()=>l});var r=t(95155);t(12115);let a=e=>{let{children:s,className:t=""}=e;return(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm ".concat(t),children:s})},l=e=>{let{children:s,className:t=""}=e;return(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 ".concat(t),children:s})},i=e=>{let{children:s,className:t=""}=e;return(0,r.jsx)("div",{className:"px-6 py-4 ".concat(t),children:s})}},56505:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t(95155),a=t(12115),l=t(20063),i=t(52619),n=t.n(i),o=t(99708),c=t(20508),d=t(91078),m=t(3008),x=t(28687),u=t(90960),h=t(31166),p=t(5590),g=t(47972),y=t(37818);function b(){let e=(0,l.useRouter)(),{signInWithGoogle:s,signInWithEmail:t}=(0,y.A)(),[i,b]=(0,a.useState)({username:"",password:""}),[f,v]=(0,a.useState)(!1),[j,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)(""),A=(e,s)=>{b(t=>({...t,[e]:s})),N&&k("")},S=async s=>{if(s.preventDefault(),!i.username||!i.password)return void k("Username and password are required");v(!0);try{if(i.username.includes("@"))await t(i.username,i.password),e.push("/admin");else{let{data:s}=await u.R2.login(i.username,i.password);localStorage.setItem("access_token",s.access),localStorage.setItem("refresh_token",s.refresh),e.push("/admin")}}catch(e){console.error("Login error:",e),"auth/user-not-found"===e.code?k("No account found with this email address"):"auth/wrong-password"===e.code?k("Incorrect password"):"auth/invalid-email"===e.code?k("Invalid email address"):k("Invalid username or password. Please try again.")}finally{v(!1)}},_=async()=>{w(!0),k("");try{let t=await s();console.log("Google login successful:",t),e.push("/admin")}catch(e){console.error("Google login error:",e),"auth/popup-closed-by-user"===e.code?k("Login cancelled. Please try again."):"auth/popup-blocked"===e.code?k("Popup blocked. Please allow popups and try again."):k("Failed to sign in with Google. Please try again.")}finally{w(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,r.jsx)(m.default,{}),(0,r.jsx)("main",{className:"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(o.A,{className:"mx-auto h-12 w-12 text-blue-600"}),(0,r.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Login"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access your dashboard"})]}),(0,r.jsx)(g.Zp,{children:(0,r.jsx)(g.Wu,{className:"px-6 py-8",children:(0,r.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.A,{label:"Username or Email",type:"text",value:i.username,onChange:e=>A("username",e.target.value),placeholder:"you@example.com",className:"pl-10"}),(0,r.jsx)(c.A,{className:"pointer-events-none absolute left-3 top-[38px] h-5 w-5 text-gray-400"})]}),(0,r.jsx)("div",{children:(0,r.jsx)(p.A,{label:"Password",type:"password",value:i.password,onChange:e=>A("password",e.target.value),placeholder:"••••••••"})}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)(n(),{href:"/forgot-password",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})}),N&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm flex items-start gap-2",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,r.jsx)("span",{children:N})]}),(0,r.jsx)(h.A,{type:"submit",disabled:f||j,className:"w-full",children:f?"Signing in...":"Sign In"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),(0,r.jsxs)("button",{type:"button",onClick:_,disabled:f||j,className:"w-full inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[j?(0,r.jsx)("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-blue-600"}):(0,r.jsxs)("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 533.5 544.3",children:[(0,r.jsx)("path",{fill:"#4285F4",d:"M533.5 278.4c0-17.4-1.6-34.1-4.7-50.4H272.1v95.6h147c-6.4 34.4-25.7 63.6-54.8 83.1l88.5 68.7c51.6-47.5 80.7-117.6 80.7-197z"}),(0,r.jsx)("path",{fill:"#34A853",d:"M272.1 544.3c73.1 0 134.5-24.2 179.4-65.8l-88.5-68.7c-24.6 16.6-56.2 26.4-90.9 26.4-69.9 0-129.2-47.1-150.5-110.5H31.3v69.3c44.6 88.1 136.5 149.3 240.8 149.3z"}),(0,r.jsx)("path",{fill:"#FBBC05",d:"M121.6 325.6c-9.8-29.4-9.8-61 0-90.4V165.9H31.3c-41.3 82.7-41.3 179.8 0 262.5l90.3-69.3z"}),(0,r.jsx)("path",{fill:"#EA4335",d:"M272.1 107.7c37.4-.6 73.3 13.8 100.3 40.7l74.6-74.6C403.4 24.8 340.6 0 272.1 0 167.8 0 75.9 61.2 31.3 149.4l90.3 69.3c21.3-63.4 80.6-111 150.5-111z"})]}),j?"Signing in with Google...":"Sign in with Google"]}),(0,r.jsxs)("p",{className:"text-center text-sm text-gray-600 mt-3",children:["No account?"," ",(0,r.jsx)(n(),{href:"/register",className:"text-blue-600 hover:underline",children:"Create one"})]})]})})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(n(),{href:"/",className:"text-sm text-blue-600 hover:text-blue-500 transition-colors",children:"← Back to Assessment Tool"})})]})}),(0,r.jsx)(x.A,{})]})}},90960:(e,s,t)=>{"use strict";t.d(s,{IR:()=>o,R2:()=>i,rP:()=>n});var r=t(95125);let a=t(95704).env.NEXT_PUBLIC_API_BASE_URL||"https://rafsia.org/api",l=r.A.create({baseURL:a,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{{let s=localStorage.getItem("access_token");s&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(s))}return e}),l.interceptors.response.use(e=>e,async e=>{var s;let t=null==e||null==(s=e.response)?void 0:s.status,i=e.config;if(401===t&&!(null==i?void 0:i._retry)){let e=localStorage.getItem("refresh_token");if(e)try{i._retry=!0;let{data:s}=await r.A.post("".concat(a,"/auth/token/refresh/"),{refresh:e}),{access:t}=s||{};if(t)return localStorage.setItem("access_token",t),i.headers=i.headers||{},i.headers.Authorization="Bearer ".concat(t),l.request(i)}catch(e){}localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/admin/login"}return Promise.reject(e)});let i={login:(e,s)=>l.post("/auth/token/",{username:e,password:s}),register:(e,s,t)=>l.post("/auth/register/",{username:e,email:s,password:t}),refresh:e=>l.post("/auth/token/refresh/",{refresh:e})},n={getQuestions:(e,s)=>l.get("/surveys/questions/",{params:{role:e,dimension:s}}),submitSurvey:e=>l.post("/surveys/submissions/",e),getSubmission:(e,s)=>l.get("/surveys/submissions/".concat(e,"/"),{params:s?{public:"true"}:{}}),getSubmissions:(e,s,t)=>l.get("/surveys/submissions/",{params:e}),getStatistics:()=>l.get("/surveys/submissions/statistics/"),exportCSV:e=>l.get("/surveys/submissions/export_csv/",{params:e}),exportPDF:e=>l.get("/surveys/submissions/".concat(e,"/export_pdf/")),getInstitutions:()=>l.get("/surveys/institutions/"),getProjects:()=>l.get("/surveys/projects/")},o={getNotes:e=>l.get("/interviews/notes/",{params:e}),createNote:e=>l.post("/interviews/notes/",e),updateNote:(e,s)=>l.put("/interviews/notes/".concat(e,"/"),s),deleteNote:e=>l.delete("/interviews/notes/".concat(e,"/")),getAnalytics:()=>l.get("/interviews/notes/analytics/")}},91078:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(45105).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},99708:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(45105).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[965,363,125,8,441,255,358],()=>e(e.s=41388)),_N_E=e.O()}]);